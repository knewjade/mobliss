<!DOCTYPE html>
<html lang=ja>
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <!-- <meta name="description" content="練習・研究を目的として作られたページです。このページで設定を行ってください。"> -->
  <meta name="theme-color" content="#ffffff">

  <title>mobliss settings</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  <link rel="stylesheet" href="./css/index.css">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/manifest.json">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

  <script>
  <!--
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-93540402-1', 'auto');
    ga('send', 'pageview');
  -->
  </script>
</head>
<body>
  <div class="container">
    <section>
      <a href='howto.html'>How toはこちら</a>
    </section>

    <section><form id="settings">
      <section class='category'>
        <label class='category-header'>
          <h2>キーボード</h2>
        </label>

        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" id="keyboard_enable" checked> キーボード操作を有効にする
          </label>
        </div>

        <div class="form-group">
          <label class="form-inline">
            DAS： <input class="form-control" id="max_das" type="number" placeholder="ex) 80" min="0" value="80">
          </label>
        </div>

        <div class="form-group">
          <label class="form-inline">
            ARR： <input class="form-control" id="das_delay" type="number" placeholder="ex) 40" min="0" value="40">
          </label>
        </div>

        <section>
          <label>
            <h3>キーバインド</h3>
          </label>

          <section>
            <label>
              <h4>移動</h4>
            </label>

            <div class="form-group">
              <label class="form-inline">
              右移動： <input class="form-control" id="move_right" type="text" placeholder="ex) ArrowRight" value="ArrowRight">
              </label>
            </div>

            <div class="form-group">
              <label class="form-inline">
              左移動： <input class="form-control" id="move_left" type="text" placeholder="ex) ArrowLeft" value="ArrowLeft">
              </label>
            </div>

            <div class="form-group">
              <label class="form-inline">
              ソフトドロップ（下移動）： <input class="form-control" id="move_down" type="text" placeholder="ex) ArrowDown" value="ArrowDown">
              </label>
            </div>

            <div class="form-group">
              <label class="form-inline">
              ハードドロップ： <input class="form-control" id="harddrop" type="text" placeholder="ex)  （半角スペース）" value=" ">
              </label>
            </div>
          </section>

          <section>
            <label>
              <h4>回転・ホールド</h4>
            </label>

            <div class="form-group">
              <label class="form-inline">
                右回転： <input class="form-control" id="rotate_right" type="text" placeholder="ex) x" value="x">
              </label>
            </div>

            <div class="form-group">
              <label class="form-inline">
                左回転： <input class="form-control" id="rotate_left" type="text" placeholder="ex) z" value="z">
              </label>
            </div>

            <div class="form-group">
              <label class="form-inline">
                ホールド： <input class="form-control" id="hold" type="text" placeholder="ex) c" value="c">
              </label>
            </div>
          </section>

          <section>
            <label>
              <h4>ヘルパー</h4>
            </label>

            <div class="form-group">
              <label class="form-inline">
                リスタート <input class="form-control" id="restart" type="text" placeholder="ex) r" value="r">
              </label>
            </div>

            <div class="form-group">
              <label class="form-inline">
                Undo： <input class="form-control" id="undo" type="text" placeholder="ex) q" value="q">
              </label>
            </div>
          </section>
        </section>
      </section>

      <section class='category'>
        <label class='category-header'>
          <h2>接着表示（クリック／タップ用）</h2>
        </label>

        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" id="candidate_visible" checked> 接着候補を表示する
          </label>
        </div>

        <section>
          <label>
            <h3>回転軸</h3>
          </label>

          <section>
            <label>
              <h4>[ S ]</h4>
            </label>

            <section>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_s_h" value="N" checked> <img src="img/s_normal.png" alt="S Normal">
                </label>
              </div>

              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_s_h" value="2"> <img src="img/s_reverse.png" alt="S Reverse">
                </label>
              </div>
            </section>

            <section>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_s_v" value="L" checked> <img src="img/s_left.png" alt="S Left">
                </label>
              </div>

              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_s_v" value="R"> <img src="img/s_right.png" alt="S Right">
                </label>
              </div>
            </section>
          </section>

          <section>
            <label>
              <h4>[ Z ]</h4>
            </label>

            <section>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_z_h" value="N" checked> <img src="img/z_normal.png" alt="Z Normal">
                </label>
              </div>

              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_z_h" value="2"> <img src="img/z_reverse.png" alt="Z Reverse">
                </label>
              </div>
            </section>

            <section>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_z_v" value="L"> <img src="img/z_left.png" alt="Z Left">
                </label>
              </div>

              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_z_v" value="R" checked> <img src="img/z_right.png" alt="Z Right">
                </label>
              </div>
            </section>
          </section>

          <section>
            <label>
              <h4>[ I ]</h4>
            </label>

            <section>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_i_h" value="N" checked> <img src="img/i_normal.png" alt="I Normal">
                </label>
              </div>

              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_i_h" value="2"> <img src="img/i_reverse.png" alt="I Reverse">
                </label>
              </div>
            </section>

            <section>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_i_v" value="L" checked> <img src="img/i_left.png" alt="I Left">
                </label>
              </div>

              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_i_v" value="R"> <img src="img/i_right.png" alt="I Right">
                </label>
              </div>
            </section>
          </section>

          <section>
            <label>
              <h4>[ O ]</h4>
            </label>

            <section>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_o" value="N" checked> <img src="img/o_normal.png" alt="O Normal">
                </label>
              </div>

              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_o" value="2"> <img src="img/o_right.png" alt="O Right">
                </label>
              </div>

              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_o" value="L"> <img src="img/o_reverse.png" alt="O Reverse">
                </label>
              </div>

              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" name="pivot_o" value="R"> <img src="img/o_left.png" alt="O Left">
                </label>
              </div>
            </section>
          </section>
        </section>
      </section>

      <section class='category'>
        <label class='category-header'>
          <h2>初期地形</h2>
        </label>

        <select id="field_type" class="form-control">
          <option value="Empty" selected="">Empty</option>
          <option value="PerfectTRight">Perfect T-Right</option>
          <option value="PerfectTLeft">Perfect T-Left</option>
          <option value="Garbage">Garbage</option>
        </select>

        <div class="form-group hidden" id="garbage_details">
          <label class="form-inline">
            Garbageの高さ： <input class="form-control" name="garbage_count" type="number" placeholder="ex) 5" min="1" max="19" value="15">
          </label>
          <label class="form-inline">
            1つの穴ごとのライン数： <input class="form-control" name="garbage_step" type="number" placeholder="ex) 5" min="1" max="19" value="1">
          </label>
        </div>
      </section>

      <section class='category'>
        <label class='category-header'>
          <h2>ミノ順</h2>
        </label>

        <section>
          <div class="form-check form-check-inline">
            <label class="form-check-label">
              <input class="form-check-input" type="radio" name="order_type" id="order_type_default" value="Default" checked> Default
            </label>
          </div>

          <div class="form-check form-check-inline">
            <label class="form-check-label">
              <input class="form-check-input" type="radio" name="order_type" id="order_type_custom" value="Custom"> Custom
            </label>
            <label class="form-check-label">
              <input class="form-control" name="custom_order" type="text" placeholder="ex) IOTJLSZILSTZJO">
            </label>
          </div>
        </section>
      </section>

      <section class='category'>
        <label class='category-header'>
          <h2>その他</h2>
        </label>

        <div class="form-group">
          <label class="form-inline">
            ネクストの表示個数： <input class="form-control" name="next_count" type="number" placeholder="ex) 5" min="0" max="5" value="5">
          </label>
        </div>

        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" name="bag_mark"> ミノ1巡の先頭ミノにマークをつける
          </label>
        </div>

        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" name="perfect_mark"> パーフェクトサイクルの先頭ミノにマークをつける
          </label>
        </div>

        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" name="candidate_limit_perfect"> 接着候補を4ラインパーフェクト用にする
          </label>
        </div>
      </section>
    </form></section>

    <footer>
      <div class="form-group row">
        <div class="col-12">
          <button id="start" type="button" class="btn btn-primary" onclick="submit()" style='width: 100%;'>Start</button>
        </div>
      </div>
    </footer>
  </div>

  <script type="text/javascript" src="js/bundle.js?p=(new Date()).getTime()"></script>
  <script>
    window.onload = function (event) {
      window.entry_point.index(event)

      const element = document.getElementById('field_type')
      if (element) {
        const onChange = () => {
          const index = element.selectedIndex;
          const detailElement = document.getElementById('garbage_details');
          if (element.options[index].value === 'Garbage') {
            detailElement.classList.remove('hidden');
          } else {
            detailElement.classList.add('hidden');
          }
        }
        element.addEventListener('change', onChange);
        onChange();  // 読み込み時に1回更新する
      }
    }
  </script>
</body>
</html>
